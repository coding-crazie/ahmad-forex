function showSecondDropdown(e){e.preventDefault();let t=document.getElementById("dropdowncard2");"none"!==t.style.display&&t.style.display?(t.style.display="none",console.log("comes here none")):(t.style.display="block",console.log("comes here"))}function showThirdDropdown(e){e.preventDefault();let t=document.getElementById("dropdowncard3");"none"!==t.style.display&&t.style.display?(t.style.display="none",document.getElementById("dropdownCard"),console.log("comes here none")):(t.style.display="block",dropdownCard.style.display="none",console.log("comes here"))}function showFourthDropdown(e){e.preventDefault();let t=document.getElementById("dropdowncard4");"none"!==t.style.display&&t.style.display?(t.style.display="none",document.getElementById("dropdownCard"),console.log("comes here none")):(t.style.display="block",dropdownCard.style.display="none",console.log("comes here"))}function showFifthDropdown(e){e.preventDefault();let t=document.getElementById("dropdowncard5");"none"!==t.style.display&&t.style.display?(t.style.display="none",document.getElementById("dropdownCard"),console.log("comes here none")):(t.style.display="block",dropdownCard.style.display="none",console.log("comes here"))}function showSixthDropdown(e){e.preventDefault();let t=document.getElementById("dropdowncard6");"none"!==t.style.display&&t.style.display?(t.style.display="none",document.getElementById("dropdownCard"),console.log("comes here none")):(t.style.display="block",dropdownCard.style.display="none",console.log("comes here"))}function showSeventhDropdown(e){e.preventDefault();let t=document.getElementById("dropdowncard7");"none"!==t.style.display&&t.style.display?(t.style.display="none",document.getElementById("dropdownCard"),console.log("comes here none")):(t.style.display="block",dropdownCard.style.display="none",console.log("comes here"))}document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("dropdownCard");document.getElementById("dropdowncard2-game"),document.querySelectorAll(".word a"),document.querySelector(".search-input").addEventListener("click",function(t){e.style.display="block",t.stopPropagation()})});const dropdownCard3=document.getElementById("dropdowncard2");function gamer(e){console.log("comed here"),document.getElementById("dropdownCard"),dropdownCard.style.display="block",e.style.display="none"}function toggleFullScreen(){let e=document.getElementById("headdd");document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().then(()=>{createTradingViewWidget("light")}).catch(e=>{alert(`Error attempting to enable full-screen mode: ${e.message} (${e.name})`)})}function togglecard(){let e=document.getElementById("detailsCard");"none"===e.style.display||""===e.style.display?e.style.display="block":e.style.display="none"}function togglecard(){let e=document.getElementById("detailsCard");"none"===e.style.display||""===e.style.display?e.style.display="block":e.style.display="none"}function toggleDropdown(){let e=document.getElementById("marketExecutionDropdown");"none"!==e.style.display&&e.style.display?e.style.display="none":e.style.display="block"}function incrementValue(e){let t=document.getElementById(e);t.value=(parseFloat(t.value)+.01).toFixed(2)}function decrementValue(e){let t=document.getElementById(e);parseFloat(t.value)>0&&(t.value=(parsedFloat(t.value)-.01).toFixed(2))}function incrementValue(e){let t=document.getElementById(e),l=parseFloat(t.value);t.value=(l+.01).toFixed(2)}function decrementValue(e){let t=document.getElementById(e),l=parseFloat(t.value);t.value=(l-.01).toFixed(2)}function toggleIcon(e){let t=e.querySelector("i"),l=e.closest(".dropdown-row1").querySelector(".description").textContent;t.classList.contains("fa-plus")?(t.classList.remove("fa-plus"),t.classList.add("fa-check"),appendDataRow(l)):(t.classList.remove("fa-check"),t.classList.add("fa-plus"),removeDataRow(l))}function initializeIconState(){let e=document.querySelectorAll(".toggle-btn");e.forEach(e=>{let t=e.closest(".dropdown-row1").querySelector(".description");if(!t){console.error("Missing .description element for button:",e);return}let l=t.textContent,s=e.querySelector("i");console.log("Processing button for description:",l);let n=localStorage.getItem("description");(n=n?JSON.parse(n):[]).includes(l)?(s.classList.remove("fa-plus"),s.classList.add("fa-check")):(s.classList.remove("fa-check"),s.classList.add("fa-plus"))})}function removeDataRow(e){let t=document.querySelectorAll(".row[data-description]");for(let l of t)if(l.getAttribute("data-description")===e){l.parentNode.removeChild(l);break}let s=localStorage.getItem("description");if(s){s=JSON.parse(s);let n=s.indexOf(e);n>-1&&(s.splice(n,1),localStorage.setItem("description",JSON.stringify(s)))}}function appendDataRow(e){let t=localStorage.getItem("description");t=t?JSON.parse(t):[];let l=`
<div class="row" data-description="${e}">
    <div class="col">
        <div class="content d-flex align-center justify-center">
            <i style='font-size:24px;line-height: 1.7; height:100%' class='fas'>&#xf0de;</i>
            <p class="selectedDescriptions mb-0 fromleft">${e}</p>
        </div>
    </div>
    <div class="col bidding  text-center">
        <div class="content bid  ">
            <p class="mb-0">0</p>
        </div>
    </div>
    <div class="col text-center">
        <div class="content">
            <p class="mb-0">0</p>
        </div>
    </div>
    <div class="col text-center">
        <div class="content">
            <p class="mb-0">0</p>
        </div>
    </div>
</div>
`,s=document.getElementById("contentRows");s.insertAdjacentHTML("beforeend",l),t.includes(e)||(t.push(e),localStorage.setItem("description",JSON.stringify(t)))}function displayStoredRows(){let e=localStorage.getItem("description");if(e)for(let t of e=JSON.parse(e))appendDataRow(t)}function toggleCard(){let e=document.getElementById("mainCard"),t=document.querySelector(".tradingview-widget-container");"none"!==e.style.display&&e.style.display?(e.style.display="none",t.classList.remove("col-lg-8","col-md-12","col-sm-12"),t.classList.add("col-12")):(e.style.display="block",t.classList.add("col-lg-8","col-md-12","col-sm-12"),t.classList.remove("col-12"))}function firstchart(){document.querySelector(".table-responsive").style.display="block",document.querySelector(".table-responsive2").style.display="none",document.querySelector(".btn.btn-secondary.orders.ms-1").style.display="block",document.querySelectorAll(".btn.btn-secondary.orders.ms-1")[1].style.display="none"}function secondchart(){document.querySelector(".table-responsive").style.display="none",document.querySelector(".table-responsive2").style.display="block",document.querySelector(".btn.btn-secondary.orders.ms-1").style.display="none",document.querySelectorAll(".btn.btn-secondary.orders.ms-1")[1].style.display="block"}function navtoggle(){let e=document.getElementById("sidebar"),t=document.getElementById("mainContent");if("none"===e.style.display||""===e.style.display){let l=document.getElementById("endsection");l.style.width="82%",e.style.display="block",t.classList.add("bordergiveparent"),t.classList.remove("borderrevised")}else e.style.display="none",t.classList.remove("bordergiveparent"),t.classList.add("borderrevised"),endsection.style.width="100%"}document.getElementById("svgToggle").addEventListener("click",function(){var e=document.querySelector(".head111");"none"!==e.style.display&&e.style.display?e.style.display="none":e.style.display="block"}),document.querySelector(".crosslogo").addEventListener("click",function(){document.querySelector(".head111").style.display="none"}),document.addEventListener("click",function(e){var t=document.querySelector(".head111"),l=document.getElementById("svgToggle"),s=document.querySelector(".crosslogo");t.contains(e.target)||l.contains(e.target)||s.contains(e.target)||(t.style.display="none")}),document.querySelector(".clickedcross").addEventListener("click",function(){document.querySelector(".head111").style.display="none"}),document.getElementById("themeToggle").addEventListener("click",function(){document.body.classList.contains("dark-mode")?(document.body.classList.remove("dark-mode"),localStorage.setItem("dark_mode","off"),live_changes("light"),localStorage.removeItem("dark_mode"),createTradingViewWidget("light")):(live_changes("dark"),document.body.classList.add("dark-mode"),localStorage.setItem("dark_mode","on"),createTradingViewWidget("dark"))}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".search-input").addEventListener("keyup",function e(){let t=document.querySelector(".search-input"),l=t.value.toUpperCase(),s=document.querySelectorAll(".dropdown-row1");s.forEach(e=>{let t=e.textContent||e.innerText;t.toUpperCase().indexOf(l)>-1?e.style.display="":e.style.display="none"})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("dropdownCard"),t=document.getElementById("dropdowncard2"),l=document.querySelector(".search-input"),s=document.querySelector(".clickedcross");l.addEventListener("click",function(t){e.style.display="block",t.stopPropagation()}),s.addEventListener("click",function(){e.style.display="none",t.style.display="none",dropdowncard3.style.display="none",dropdowncard4.style.display="none",dropdowncard5.style.display="none",dropdowncard6.style.display="none",dropdowncard7.style.display="none",l.value=""})}),window.onload=function(){displayStoredRows(),initializeIconState();var e=localStorage.getItem("dark_mode");e?(console.log("dark_mode exists in localStorage: "+e),document.body.classList.add("dark-mode"),createTradingViewWidget("dark"),mode="dark",live_changes("dark")):console.log("Username does not exist in localStorage")};const endsection=document.getElementById("endsection");function togglewidgetonmobile(){let e=document.getElementById("widgetmobilescreen"),t=document.getElementById("trademobilepage"),l=document.getElementById("historymobilepage"),s=document.getElementById("mainCard"),n=document.getElementById("detailsCard"),o=document.getElementById("sidebar"),d=document.getElementById("mainContent");d.classList.add("bordergiveparent"),d.classList.remove("borderrevised");let a=document.getElementById("endsection");a.style.width="82%";let i=document.getElementById("firstcontent");"none"===e.style.display?(e.style.display="block",i.style.display="flex",o.style.display="block",t.style.display="none",s.style.display="none",n.style.display="none",l.style.display="none",e.classList.add("col-12","col-lg-12","col-md-12","col-sm-12"),e.classList.remove("col-lg-8","col-md-12","col-sm-12","col-12")):(e.style.display="none",e.classList.remove("col-12","col-lg-12","col-md-12","col-sm-12"),e.classList.add("col-lg-8","col-md-12","col-sm-12","col-12"))}function trademobilepages(){let e=document.getElementById("trademobilepage"),t=document.getElementById("widgetmobilescreen"),l=document.getElementById("historymobilepage"),s=document.getElementById("mainCard"),n=document.getElementById("detailsCard"),o=document.getElementById("sidebar"),d=document.getElementById("firstcontent"),a=document.getElementById("mainContent");a.classList.remove("bordergiveparent"),a.classList.add("borderrevised");let i=document.getElementById("endsection");i.style.width="100%",d.style.display="none","none"!==e.style.display&&e.style.display?e.style.display="none":(e.style.display="block",t.style.display="none",l.style.display="none",s.style.display="none",n.style.display="none",o.style.display="none",d.style.display="none")}function historymobilepages(){let e=document.getElementById("historymobilepage"),t=document.getElementById("trademobilepage"),l=document.getElementById("widgetmobilescreen"),s=document.getElementById("mainCard"),n=document.getElementById("detailsCard"),o=document.getElementById("sidebar"),d=document.getElementById("firstcontent");d.style.display="none";let a=document.getElementById("endsection");a.style.width="100%";let i=document.getElementById("mainContent");i.classList.remove("bordergiveparent"),i.classList.add("borderrevised"),"none"!==e.style.display&&e.style.display?e.style.display="none":(e.style.display="block",t.style.display="none",l.style.display="none",s.style.display="none",n.style.display="none",o.style.display="none",d.style.display="none")}function toggleCardformobile(){let e=document.getElementById("mainCard"),t=document.getElementById("historymobilepage"),l=document.getElementById("trademobilepage"),s=document.getElementById("widgetmobilescreen"),n=document.getElementById("detailsCard"),o=document.getElementById("sidebar"),d=document.getElementById("firstcontent"),a=document.getElementById("mainContent"),i=document.getElementById("endsection");i.style.width="100%",a.classList.remove("bordergiveparent"),a.classList.add("borderrevised"),document.querySelector(".tradingview-widget-container"),"none"!==e.style.display&&e.style.display?e.style.display="none":(e.style.display="block",t.style.display="none",l.style.display="none",s.style.display="none",n.style.display="none",o.style.display="none",d.style.display="none",e.classList.add("col-lg-12","col-md-12"),e.classList.remove("col-lg-4","col-md-8"))}function closeAlert(){document.getElementById("customAlert").style.display="none"}function detailscardformobile(){let e=document.getElementById("detailsCard"),t=document.getElementById("trademobilepage"),l=document.getElementById("widgetmobilescreen"),s=document.getElementById("mainCard"),n=document.getElementById("historymobilepage"),o=document.getElementById("endsection");o.style.width="100%";let d=document.getElementById("mainContent");d.classList.remove("bordergiveparent"),d.classList.add("borderrevised");let a=document.getElementById("sidebar"),i=document.getElementById("firstcontent");"none"!==e.style.display&&e.style.display?e.style.display="none":(e.style.display="block",a.style.display="none",i.style.display="block",t.style.display="none",l.style.display="none",s.style.display="none",n.style.display="none")}function test(e,t,l){console.log("Symbol Clicked is "+e),document.querySelector(".order_sell_price").innerText=l,document.querySelector(".order_buy_price").innerText=t,document.querySelector("#open_price").value=t,document.querySelector("#user_symbol").value=e,document.querySelector("#open_prices").value=t;var s=localStorage.getItem("dark_mode");s?(console.log("dark_mode exists in localStorage: "+s),document.body.classList.add("dark-mode"),createTradingViewWidget("dark",e),mode="dark",live_changes("dark")):createTradingViewWidget("light",e)}function stop_order(e){console.log("Order ID = "+e);let t=document.querySelector(".symbol_"+e),l=document.getElementById("current_"+e).value;var s=t.getAttribute("data-value"),n=document.getElementById("profit_"+e).value=s;console.log("Input ID  = "+n);let o=`/update/${e}`;console.log(n),fetch(o,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.getElementById("csrf").value},body:JSON.stringify({key1:n,key2:l})}).then(e=>{if(!e.ok)throw Error(`HTTP error! Status: ${e.status}`);window.location.href="/dashboard"}).then(e=>{console.log(e)}).catch(e=>{console.error(e)})}endsection.style.width="82%";let previousData=null;function live_changes(e){for(let t=0;t<myArray.length;t++){let l=`https://marketdata.tradermade.com/api/v1/live?api_key=5Mgfv8FN70Kuf4Ebqc6d&currency=${myArray[t]}`;console.log(" Element is "+myArray[t]),fetch(l).then(e=>{if(!e.ok)throw Error(`Network response was not ok (Status: ${e.status})`);return e.json()}).then(e=>{let l=e.quotes[0].bid,s=e.quotes[0].bid,n=l-s;if(null!==l){if(null===previousData&&(previousData=l),l>previousData){let o=document.getElementById("bidvalue_"+myArray[t]),d=document.getElementById("askvalue_"+myArray[t]),a=document.getElementById("spreads_"+myArray[t]);o.style.backgroundColor="green",o.textContent=l,d.textContent=s,console.log("Color Is Green "),a.textContent=Math.floor(n),o.classList.add("buy")}else if(l<previousData){let i=document.getElementById("bidvalue_"+myArray[t]),r=document.getElementById("askvalue_"+myArray[t]),y=document.getElementById("spreads_"+myArray[t]);i.style.backgroundColor="red",console.log("Color Is Red "),i.textContent=l,r.textContent=s,y.textContent=Math.floor(n),i.classList.add("sell")}else console.log("Data remains the same.");previousData=l}}).catch(e=>{console.error("Fetch Error:",e)})}}let myArray=[];function appendDataRow(e){let t=localStorage.getItem("description");t?(t=JSON.parse(t),console.log("Stored "+t)):t=[];let l=`https://marketdata.tradermade.com/api/v1/live?api_key=5Mgfv8FN70Kuf4Ebqc6d&currency=${e}`;fetch(l).then(e=>{if(!e.ok)throw Error(`Network response was not ok (Status: ${e.status})`);return e.json()}).then(l=>{let s=l.quotes[0].bid,n=l.quotes[0].ask,o=`
<div class="row" data-description="${e}">

<div class="col">
<div class="content d-flex align-center justify-center">
    <i style='font-size:24px;line-height: 1.7; height:100%' class='fas'>&#xf0de;</i>
    <p class="selectedDescriptions mb-0 fromleft" id="test"  data-value="${e}" >${e}</p>
</div>
</div>
<div class="col text-center">
<div class="content">
    <p class="mb-0"  id="bidvalue_${e}" data-value="${e}">${s}</p>
</div>
</div>
<div class="col text-center">
<div class="content">
    <p class="mb-0"  id="askvalue_${e}">${n}</p>
</div>
</div>
<div class="col text-center">
<div class="content">
    <p class="mb-0"  id="spreads_${e}">${Math.floor(s-n)}</p>
</div>
</div>
</div>
`;myArray.push(e);let d=document.getElementById("contentRows");d.insertAdjacentHTML("beforeend",o);let a=document.querySelector(`.selectedDescriptions[data-value="${e}"]`);a&&a.addEventListener("click",function(){test(e,s,n)}),t.includes(e)||(t.push(e),localStorage.setItem("description",JSON.stringify(t)))}).catch(e=>{console.error("Fetch Error:",e)})}let pre_profit=null;function calculate_profit(){for(let e=0;e<order_symbols.length;e++){let t=order_symbols[e].symbols,l=order_symbols[e].volume,s=order_symbols[e].open,n=order_symbols[e].id;console.log(l);let o=`https://marketdata.tradermade.com/api/v1/live?api_key=5Mgfv8FN70Kuf4Ebqc6d&currency=${t}`;console.log(" Element is "+myArray[e]),fetch(o).then(e=>{if(!e.ok)throw Error(`Network response was not ok (Status: ${e.status})`);return e.json()}).then(e=>{let t=e.quotes[0].bid;if(t>s){var o=t-s;console.log("Pips Value  "+o)}else{var o=t-s;console.log("Pips Value  "+o)}var d=l*o;console.log("Profit  Value  "+d);var a=user_bal+d;if(document.getElementById("equity").textContent=a.toFixed(2),null!==d){if(null===pre_profit&&(pre_profit=d,console.log("Profit  Equals to Pre  "+d)),d>pre_profit){console.log("Profit  Value Green "+d);let i=document.querySelector(".symbol_"+n);i.style.color="green",i.classList.add("buy"),i.textContent=pre_profit.toFixed(6)+" EUR";let r=document.getElementById("current_"+n);r.value=t,i.setAttribute("data-value",d),r.setAttribute("data-value",t)}else if(d<pre_profit){let y=document.querySelector(".symbol_"+n);y.style.color="red",y.classList.add("sell"),y.textContent=pre_profit.toFixed(6)+" EUR";let c=document.getElementById("current_"+n);c.value=t;document.getElementById("profit_"+n).setAttribute("data-value",d),c.setAttribute("data-value",t)}else console.log("Data remains the same.");pre_profit=d}}).catch(e=>{console.error("Fetch Error:",e)})}}
